"use strict";(self["b-web-shell-components__LOADABLE_LOADED_CHUNKS__"]=self["b-web-shell-components__LOADABLE_LOADED_CHUNKS__"]||[]).push([["cfaf9a2b"],{"34d74ee3":(e,t,n)=>{n.d(t,{c:()=>r});const r={ACCOMMODATIONS:"accommodations",AIRPORT_TAXIS:"airport_taxis",ATTRACTIONS:"attractions",CARS:"cars",FLIGHTS:"flights",PACKAGES:"packages",BUSINESS_TRIP:"business_trip"}},"50c0f5d9":(e,t,n)=>{n.d(t,{F:()=>r});const r={HEADER_READY:"CAPLA_EVENT_web-shell_header-mfe_HEADER_READY",HEADER_DISPLAY_BACK:"CAPLA_EVENT_web-shell_header-mfe_HEADER_DISPLAY_BACK",HEADER_DISPLAY_LOGO:"CAPLA_EVENT_web-shell_header-mfe_HEADER_DISPLAY_LOGO",HEADER_GO_BACK:"CAPLA_EVENT_web-shell_header-mfe_HEADER_GO_BACK",TABNAV_OPENED:"CAPLA_EVENT_web-shell_header-mfe_TABNAV_OPENED",TABNAV_RESET:"CAPLA_EVENT_web-shell_header-mfe_TABNAV_RESET",NOTIF_POPOVER_CLOSE:"CAPLA_EVENT_web-shell_header-mfe_POPOVER_CLOSE",NOTIF_POPOVER_OPEN:"CAPLA_EVENT_web-shell_header-mfe_POPOVER_OPEN",NOTIF_UPDATE_COUNTER:"CAPLA_EVENT_web-shell_header-mfe_UPDATE_COUNTER",NOTIF_UPDATE_LIST:"CAPLA_EVENT_web-shell_header-mfe_UPDATE_LIST",ASSISTANT_UPDATE_STATE:"CAPLA_EVENT_web-shell_header-mfe_ASSISTANT_UPDATE_STATE",PAGE_ROUTE_CHANGED:"CAPLA_EVENT_web-shell-header-mfe_ROUTE_CHANGED"}},"330e5712":(e,t,n)=>{n.d(t,{A7:()=>v,Hj:()=>u,KP:()=>l,LO:()=>m,M5:()=>c,MX:()=>S,On:()=>p,QS:()=>a,XG:()=>h,YB:()=>f,_z:()=>R,bx:()=>_,m3:()=>E,o6:()=>O,r2:()=>T,sZ:()=>d,vb:()=>s,w7:()=>g,ye:()=>A,zJ:()=>o});var r=n("34d74ee3"),i=n("017725b3");const a=["support","discover","legalAndSettings","partners","about"],o={support:["covid19_info","manage_your_trips","help_center","trust_and_safety"],discover:["genius_loyalty","deals_index","travel_articles","booking_business","traveller_awards","car_hire","flight_finder","restaurant_reservations","travel_agents"],legalAndSettings:["manage_privacy_settings","privacy","terms_and_conditions","accessibility_statement","dispute_resolution","do_not_sell_my_info","modern_slavery_statement","human_rights_statement","legal_footer","pipl_personalization"],partners:["extranet_login_footer","partner_help_footer","list_your_property_footer","become_affiliate","become_partner"],about:["about","contact_us","business_license","how_we_work","sustainability","press_center","careers","investor_relations","corp_contact","content_guidelines"]},s=(Object.values(o).flat(),["country","region","city","district","airport","hotel","landmark","booking_home","apartments","resorts","villas","hostels","bed_and_breakfast","guest_house","unique_places","destination","flights_all","cars_all","holidays_all","product_guides","discover","reviews","monthly_stays"]),c=["country","region","city","district","airport","hotel","landmark"],l="https://account.booking.com",u="en-gb",d=["BOOKING_BRANDED","COBRAND","HYBRID"],_="header_question_mark",E={[r.c.ACCOMMODATIONS]:{header:"profile_contact_cs"},[r.c.FLIGHTS]:{header:"hc_entry_point_flights_header",footer:"hc_entry_point_flights_footer"}};let f=function(e){return e.CN_SITE_SELECT="cn_site_select",e.COM_SITE_SELECT_MDOT="com_site_select_anonymous_mdot3",e.COM_SITE_SELECT_DESKTOP="com_site_select_anonymous",e.COM_SITE_SELECT_LOGGED_MDOT="com_site_select_logged_mdot",e.COM_STIE_SELECT_LOGGED_DESKTOP="com_site_select_logged2",e}({});const T="cn",p="com",v="hasCnPhoneNumberCache",m="booking.com",S="booking.cn",g={app:"www",book:"secure"};let h=function(e){return e[e.FEAT_USELSESS=-1]="FEAT_USELSESS",e[e.FEAT_OFF=0]="FEAT_OFF",e[e.FEAT_ON=1]="FEAT_ON",e[e.FEAT_ON_LOGGEDIN_DESKTOP=2]="FEAT_ON_LOGGEDIN_DESKTOP",e}({}),R=function(e){return e[e.NO_ACTION=0]="NO_ACTION",e[e.SHOW_SITE_SELECTION=1]="SHOW_SITE_SELECTION",e[e.SHOW_REDIRECTION_POPUP=2]="SHOW_REDIRECTION_POPUP",e[e.REDIRECT=3]="REDIRECT",e}({});const A={[i.Ebk.DISRUPTIVE]:"disruptive",[i.Ebk.NORMAL]:"normal"},O={1:"book_bs1",2:"book_bs2",25:"book_bs25",3:"book_bs3"}},"540c0045":(e,t,n)=>{n.r(t),n.d(t,{default:()=>s});var r=n("ead71eb0"),i=n("dc6d28ff"),a=n("239beb17"),o=n("e2a12682");function s(){const e=(0,r.useMemo)((()=>(0,i.getRequestContext)()),[]).getActionName()??"",t=(0,r.useMemo)((()=>{const t={searchresults:a.feature`YTBUIHOdBOSEKaYCcYYeFfaNaUFAHYGWe`,hotel:a.feature`YTBUIHOdBOSEKaYCcYYeFfaNbUTPEbWHQC`,"*":a.feature`YTBUIHOdBOSEKaYCcYYeFfaNacIJFAHYGWe`};return(0,a.isFeatureRunning)(t[e]||t["*"])}),[e]);return(0,o.f)({currentProduct:"accommodations",perfTrackingEnabled:t}),null}},e2a12682:(e,t,n)=>{n.d(t,{f:()=>ze});var r=n("ead71eb0"),i=n("48ad37f5"),a=n("34d74ee3"),o=n("b8390e2d"),s=n("dc6d28ff"),c=n("d0fefcf5"),l=n("239beb17"),u=n("41c6c66e"),d="https://web-perf.dqs.booking.com",_="https://web-perf.booking.com",E="application/json;charset=UTF-8",f="text/plain;charset=UTF-8",T=(e,t,n)=>{let r=!(!navigator||"function"!=typeof navigator.sendBeacon),{env:i}=n,a=e(i);if(r){let e={type:n.bypassPreflightRequest?f:E},r=navigator.sendBeacon.bind(navigator),c=!1;try{c=r(a,new Blob([g(t)],e))}catch(s){var o;(null===n||void 0===n?void 0:n.skipAbnormalBeaconingIssues)&&String(s).includes("TypeError: Illegal invocation")||null===i||void 0===i||null===(o=i.logError)||void 0===o||o.call(i,`sendBeacon throws ${s}`)}if(c)return{type:"sendBeacon"}}return function(e,t,n,r){"fetch"in window&&window.fetch(e,{method:"POST",body:g(t),headers:{"Content-Type":r?f:E},keepalive:!0})}(a,t),{type:"fetch"}},p=(e,t)=>T(h,e,t);var v,m,S=(e,t)=>T(R,e,t),g=e=>JSON.stringify(e),h=e=>{if(null!==e&&void 0!==e&&e.overrideEndpointUrl)return e.overrideEndpointUrl;let t=(null===e||void 0===e?void 0:e.isProd)??!1;return A(t)},R=e=>{if(null!==e&&void 0!==e&&e.overrideOTelEndpointUrl)return e.overrideOTelEndpointUrl;let t=(null===e||void 0===e?void 0:e.isProd)??!1;return O(t)},A=e=>(e?_:d)+"/v1/report",O=e=>(e?_:d)+"/v1/otel-report",b={requestSamplingThreshold:.1,requestOTelSamplingThreshold:.1,forcePageEndMetricsReporting:!0,bypassPreflightRequest:!1,skipAbnormalBeaconingIssues:!0,withStaticFileSize:!0},C=function(){var e=self.performance&&performance.getEntriesByType&&performance.getEntriesByType("navigation")[0];if(e&&e.responseStart>0&&e.responseStart<performance.now())return e},y=function(e){if("loading"===document.readyState)return"loading";var t=C();if(t){if(e<t.domInteractive)return"loading";if(0===t.domContentLoadedEventStart||e<t.domContentLoadedEventStart)return"dom-interactive";if(0===t.domComplete||e<t.domComplete)return"dom-content-loaded"}return"complete"},N=function(e){var t=e.nodeName;return 1===e.nodeType?t.toLowerCase():t.toUpperCase().replace(/^#/,"")},I=function(e,t){var n="";try{for(;e&&9!==e.nodeType;){var r=e,i=r.id?"#"+r.id:N(r)+(r.classList&&r.classList.value&&r.classList.value.trim()&&r.classList.value.trim().length?"."+r.classList.value.trim().replace(/\s+/g,"."):"");if(n.length+i.length>(t||100)-1)return n||i;if(n=n?i+">"+n:i,r.id)break;e=r.parentNode}}catch{}return n},L=-1,P=function(){return L},D=function(e){addEventListener("pageshow",(function(t){t.persisted&&(L=t.timeStamp,e(t))}),!0)},w=function(){var e=C();return e&&e.activationStart||0},M=function(e,t){var n=C(),r="navigate";return P()>=0?r="back-forward-cache":n&&(document.prerendering||w()>0?r="prerender":document.wasDiscarded?r="restore":n.type&&(r=n.type.replace(/_/g,"-"))),{name:e,value:void 0===t?-1:t,rating:"good",delta:0,entries:[],id:"v4-".concat(Date.now(),"-").concat(Math.floor(8999999999999*Math.random())+1e12),navigationType:r}},B=function(e,t,n){try{if(PerformanceObserver.supportedEntryTypes.includes(e)){var r=new PerformanceObserver((function(e){Promise.resolve().then((function(){t(e.getEntries())}))}));return r.observe(Object.assign({type:e,buffered:!0},n||{})),r}}catch{}},U=function(e,t,n,r){var i,a;return function(o){var s,c;t.value>=0&&(o||r)&&((a=t.value-(i||0))||void 0===i)&&(i=t.value,t.delta=a,t.rating=(s=t.value)>(c=n)[1]?"poor":s>c[0]?"needs-improvement":"good",e(t))}},F=function(e){requestAnimationFrame((function(){return requestAnimationFrame((function(){return e()}))}))},H=function(e){document.addEventListener("visibilitychange",(function(){"hidden"===document.visibilityState&&e()}))},Y=function(e){var t=!1;return function(){t||(e(),t=!0)}},x=-1,k=function(){return"hidden"!==document.visibilityState||document.prerendering?1/0:0},G=function(e){"hidden"===document.visibilityState&&x>-1&&(x="visibilitychange"===e.type?e.timeStamp:0,K())},V=function(){addEventListener("visibilitychange",G,!0),addEventListener("prerenderingchange",G,!0)},K=function(){removeEventListener("visibilitychange",G,!0),removeEventListener("prerenderingchange",G,!0)},q=function(){return x<0&&(x=k(),V(),D((function(){setTimeout((function(){x=k(),V()}),0)}))),{get firstHiddenTime(){return x}}},W=function(e){document.prerendering?addEventListener("prerenderingchange",(function(){return e()}),!0):e()},j=[1800,3e3],X=function(e,t){t=t||{},W((function(){var n,r=q(),i=M("FCP"),a=B("paint",(function(e){e.forEach((function(e){"first-contentful-paint"===e.name&&(a.disconnect(),e.startTime<r.firstHiddenTime&&(i.value=Math.max(e.startTime-w(),0),i.entries.push(e),n(!0)))}))}));a&&(n=U(e,i,j,t.reportAllChanges),D((function(r){i=M("FCP"),n=U(e,i,j,t.reportAllChanges),F((function(){i.value=performance.now()-r.timeStamp,n(!0)}))})))}))},z=[.1,.25],$=function(e,t){var n,r;n=function(t){var n=function(e){var t,n={};if(e.entries.length){var r=e.entries.reduce((function(e,t){return e&&e.value>t.value?e:t}));if(r&&r.sources&&r.sources.length){var i=(t=r.sources).find((function(e){return e.node&&1===e.node.nodeType}))||t[0];i&&(n={largestShiftTarget:I(i.node),largestShiftTime:r.startTime,largestShiftValue:r.value,largestShiftSource:i,largestShiftEntry:r,loadState:y(r.startTime)})}}return Object.assign(e,{attribution:n})}(t);e(n)},r=(r=t)||{},X(Y((function(){var e,t=M("CLS",0),i=0,a=[],o=function(n){n.forEach((function(e){if(!e.hadRecentInput){var t=a[0],n=a[a.length-1];i&&e.startTime-n.startTime<1e3&&e.startTime-t.startTime<5e3?(i+=e.value,a.push(e)):(i=e.value,a=[e])}})),i>t.value&&(t.value=i,t.entries=a,e())},s=B("layout-shift",o);s&&(e=U(n,t,z,r.reportAllChanges),H((function(){o(s.takeRecords()),e(!0)})),D((function(){i=0,t=M("CLS",0),e=U(n,t,z,r.reportAllChanges),F((function(){return e()}))})),setTimeout(e,0))})))},Q=0,J=1/0,Z=0,ee=function(e){e.forEach((function(e){e.interactionId&&(J=Math.min(J,e.interactionId),Z=Math.max(Z,e.interactionId),Q=Z?(Z-J)/7+1:0)}))},te=function(){return v?Q:performance.interactionCount||0},ne=[],re=new Map,ie=0,ae=[],oe=function(e){if(ae.forEach((function(t){return t(e)})),e.interactionId||"first-input"===e.entryType){var t=ne[ne.length-1],n=re.get(e.interactionId);if(n||ne.length<10||e.duration>t.latency){if(n)e.duration>n.latency?(n.entries=[e],n.latency=e.duration):e.duration===n.latency&&e.startTime===n.entries[0].startTime&&n.entries.push(e);else{var r={id:e.interactionId,latency:e.duration,entries:[e]};re.set(r.id,r),ne.push(r)}ne.sort((function(e,t){return t.latency-e.latency})),ne.length>10&&ne.splice(10).forEach((function(e){return re.delete(e.id)}))}}},se=function(e){var t=self.requestIdleCallback||self.setTimeout,n=-1;return e=Y(e),"hidden"===document.visibilityState?e():(n=t(e),H(e)),n},ce=[200,500],le=function(e,t){"PerformanceEventTiming"in self&&"interactionId"in PerformanceEventTiming.prototype&&(t=t||{},W((function(){var n;"interactionCount"in performance||v||(v=B("event",ee,{type:"event",buffered:!0,durationThreshold:0}));var r,i=M("INP"),a=function(e){se((function(){e.forEach(oe);var t=function(){var e=Math.min(ne.length-1,Math.floor((te()-ie)/50));return ne[e]}();t&&t.latency!==i.value&&(i.value=t.latency,i.entries=t.entries,r())}))},o=B("event",a,{durationThreshold:null!==(n=t.durationThreshold)&&void 0!==n?n:40});r=U(e,i,ce,t.reportAllChanges),o&&(o.observe({type:"first-input",buffered:!0}),H((function(){a(o.takeRecords()),r(!0)})),D((function(){ie=te(),ne.length=0,re.clear(),i=M("INP"),r=U(e,i,ce,t.reportAllChanges)})))})))},ue=[],de=[],_e=0,Ee=new WeakMap,fe=new Map,Te=-1,pe=function(e){ue=ue.concat(e),ve()},ve=function(){Te<0&&(Te=se(me))},me=function(){fe.size>10&&fe.forEach((function(e,t){re.has(t)||fe.delete(t)}));var e=ne.map((function(e){return Ee.get(e.entries[0])})),t=de.length-50;de=de.filter((function(n,r){return r>=t||e.includes(n)}));for(var n=new Set,r=0;r<de.length;r++){var i=de[r];Se(i.startTime,i.processingEnd).forEach((function(e){n.add(e)}))}var a=ue.length-1-50;ue=ue.filter((function(e,t){return e.startTime>_e&&t>a||n.has(e)})),Te=-1};ae.push((function(e){e.interactionId&&e.target&&!fe.has(e.interactionId)&&fe.set(e.interactionId,e.target)}),(function(e){var t,n=e.startTime+e.duration;_e=Math.max(_e,e.processingEnd);for(var r=de.length-1;r>=0;r--){var i=de[r];if(Math.abs(n-i.renderTime)<=8){(t=i).startTime=Math.min(e.startTime,t.startTime),t.processingStart=Math.min(e.processingStart,t.processingStart),t.processingEnd=Math.max(e.processingEnd,t.processingEnd),t.entries.push(e);break}}t||(t={startTime:e.startTime,processingStart:e.processingStart,processingEnd:e.processingEnd,renderTime:n,entries:[e]},de.push(t)),(e.interactionId||"first-input"===e.entryType)&&Ee.set(e,t),ve()}));var Se=function(e,t){for(var n,r=[],i=0;n=ue[i];i++)if(!(n.startTime+n.duration<e)){if(n.startTime>t)break;r.push(n)}return r},ge=function(e,t){m||(m=B("long-animation-frame",pe)),le((function(t){var n=function(e){var t=e.entries[0],n=Ee.get(t),r=t.processingStart,i=n.processingEnd,a=n.entries.sort((function(e,t){return e.processingStart-t.processingStart})),o=Se(t.startTime,i),s=e.entries.find((function(e){return e.target})),c=s&&s.target||fe.get(t.interactionId),l=[t.startTime+t.duration,i].concat(o.map((function(e){return e.startTime+e.duration}))),u=Math.max.apply(Math,l),d={interactionTarget:I(c),interactionTargetElement:c,interactionType:t.name.startsWith("key")?"keyboard":"pointer",interactionTime:t.startTime,nextPaintTime:u,processedEventEntries:a,longAnimationFrameEntries:o,inputDelay:r-t.startTime,processingDuration:i-r,presentationDelay:Math.max(u-i,0),loadState:y(t.startTime)};return Object.assign(e,{attribution:d})}(t);e(n)}),t)},he=[2500,4e3],Re={},Ae=[800,1800],Oe=function e(t){document.prerendering?W((function(){return e(t)})):"complete"!==document.readyState?addEventListener("load",(function(){return e(t)}),!0):setTimeout(t,0)},be=function(e,t){t=t||{};var n=M("TTFB"),r=U(e,n,Ae,t.reportAllChanges);Oe((function(){var i=C();i&&(n.value=Math.max(i.responseStart-w(),0),n.entries=[i],r(!0),D((function(){n=M("TTFB",0),(r=U(e,n,Ae,t.reportAllChanges))(!0)})))}))},Ce=typeof window>"u"?{}:window,ye=["slow-2g","2g","3g","4g"],Ne=Ce.navigator;function Ie(){if(!Ne||!("connection"in Ne))return;let e=Ne,{connection:t}=e,n=null===t||void 0===t?void 0:t.effectiveType,r=null===t||void 0===t?void 0:t.saveData;return{saveData:"boolean"==typeof r?r:void 0,effectiveType:n&&ye.includes(n)?n:void 0}}var Le=()=>Ce.performance&&Ce.performance.getEntriesByType&&Ce.performance.getEntriesByType("navigation")[0],Pe=e=>{try{let t=new URL(e);return t.search="",t.toString()}catch{return e}},De=()=>Ce.performance&&!!Ce.performance.getEntriesByType,we=()=>{if(!De())return{};let e=Le();return{...e.toJSON(),serverTiming:void 0,name:Pe(e.name)}},Me=()=>{if(!De())return{};let e=Le(),t={};if(e.serverTiming)for(let{name:n,duration:r,description:i}of e.serverTiming)t[n]=(0===r&&""!==i?i:r)||0;return t};function Be(e){return function(e){let t=e+"4f0e09f733f95d8d749c667a5088a5af",n=0;for(let r=0;r<t.length;r++)n=(n<<5)-n+t.charCodeAt(r),n|=0;return n}((e=>JSON.stringify(e,((t,n)=>{if(!e)return e;if(null!==n&&"object"==typeof n&&!Array.isArray(n)){let e={};return Object.keys(n).sort().forEach((t=>{e[t]=n[t]})),e}return n})))(e))}var Ue="data-testid";function Fe(e){var t;if(!e)return;let n=e instanceof Element?e:void 0;if(!n)return{nodeName:e.nodeName};let r=He(n,"data-capla-component-boundary")??He(n,"data-capla-component");return{nodeName:n.nodeName,closestTestId:(null===(t=n.closest(`[${Ue}]`))||void 0===t?void 0:t.getAttribute(Ue))||void 0,caplaComponent:r}}function He(e,t){var n;return(null===(n=e.closest(`[${t}]`))||void 0===n?void 0:n.getAttribute(t))||void 0}function Ye(e,t){let n;if(null!==t&&void 0!==t&&t.withAttribution)try{n=function(e){switch(e.name){case"INP":{let t=e.attribution,n=t.interactionTargetElement;return{interactionTarget:t.interactionTarget,interactionType:null===t||void 0===t?void 0:t.interactionType,elementContext:Fe(n)}}case"LCP":{var t;let n=e.attribution,r=null===(t=n.lcpEntry)||void 0===t?void 0:t.element,i=function(e){var t;let n=null===e||void 0===e?void 0:e.url;return n&&!(n.startsWith("https://")||n.startsWith("//"))&&(n=null===(t=n)||void 0===t?void 0:t.slice(0,100)),n}(n.lcpEntry);return{element:n.element,elementContext:Fe(r),resourceLoadDelay:n.resourceLoadDelay,resourceLoadDuration:n.resourceLoadDuration,url:i||void 0}}case"CLS":{var n;let t=e.attribution,r=null===(n=t.largestShiftSource)||void 0===n?void 0:n.node;return{largestShiftTarget:t.largestShiftTarget,elementContext:Fe(r)}}}}(e)}catch(a){var r,i;null===t||void 0===t||null===(r=t.env)||void 0===r||null===(i=r.logError)||void 0===i||i.call(r,`Failed to generate attribution for ${e.name}: ${a}`)}return{[e.name.toLocaleLowerCase()]:{id:e.id,value:e.value,navigationType:e.navigationType,attribution:n}}}function xe(e){let t=Ce.performance.getEntriesByType("resource");if(0!==t.length){if(e.isOnLoad){let e=Ce.performance.getEntriesByType("navigation")[0];if(void 0===e)return;t=t.filter((t=>t.startTime<e.domComplete))}return t.filter((t=>{let n=!0;return n&&e.excludeThirdParty&&(n=t.name&&"string"==typeof t.name&&/bstatic/.test(t.name)||/static.booking.cn/.test(t.name)),n&&e.excludeCache&&(n=!function(e){return!(e.transferSize>0)&&(e.decodedBodySize>0||!!e.responseEnd&&e.responseEnd-e.startTime<30)}(t)),n&&e.type&&(n=function(e,t){return"image"===e?void 0!==t.name&&"string"==typeof t.name&&("img"===t.initiatorType||"css"===t.initiatorType):void 0!==t.name&&"string"==typeof t.name&&(/'\(bstatic\|static\.booking\.com\)\.\*js\$'/i.test(t.name)||/'\(bstatic\|static\.booking\.com\)\.\*css\$'/i.test(t.name))}(e.type,t)),n}))}}function ke(e){if(!function(){var e;return"function"==typeof(null===(e=Ce.performance)||void 0===e?void 0:e.getEntriesByType)}())return;let t,n=xe({excludeThirdParty:void 0!==e.resourceType&&"static"===e.resourceType,excludeCache:!0,isOnLoad:e.isOnLoad});return n&&(t=Math.trunc(n.reduce(((e,t)=>e+t.transferSize),0)/1e3)),t}function Ge(e,t,n){let r=(null===t||void 0===t?void 0:t.withClientStats)&&function(){if(Ne)return{hardwareConcurrency:Ne.hardwareConcurrency,connection:Ie()}}()||void 0,i={},a=t.withStaticFileSize&&{onLoadStaticSize:void 0,totalStaticSize:void 0}||void 0,o=(null===t||void 0===t?void 0:t.env)??{},s=!1,c=!1,l=_(o),u=d(l);function d(e){try{return Be(e)}catch(n){var t;return null!==o&&void 0!==o&&null!==(t=o.logError)&&void 0!==t&&t.call(o,`${n||"Unknown checksum error"}`),0}}function _(e){return{meta:{action:e.action,product:e.product,renderTimestamp:e.renderTimestamp,role:e.role,sdComponent:e.sdComponent,sdProject:e.sdProject,webPageOwnableId:e.webPageOwnableId},clientStats:r,perfContext:e.perfContext}}function E(){if(!s||c||!u)return;c=!0,a&&(a.totalStaticSize=ke({isOnLoad:!1,resourceType:"static"}));let n={metrics:{webVitals:i,staticFileSize:a,navigationTimings:we(),serverTimings:Me()},context:l,checksum:u};try{var r;let i=e(n,t);null===t||void 0===t||null===(r=t.onMetricsReport)||void 0===r||r.call(t,n,i)}catch(_){var d;null===o||void 0===o||null===(d=o.logError)||void 0===d||d.call(o,`Could not publish metrics ${_}`)}}function f(){a&&(a.onLoadStaticSize=ke({isOnLoad:!0}))}!function(){if("complete"===document.readyState)f();else{let e=()=>{f(),Ce.removeEventListener("load",e,!0)};Ce.addEventListener("load",e,!0)}}();let T=()=>{"hidden"===document.visibilityState&&(E(),Ce.removeEventListener("visibilitychange",T,!0))};return Ce.addEventListener("visibilitychange",T,!0),Ce.addEventListener("pagehide",E,{capture:!0,once:!0}),{onMetricReport:e=>{var n;s=!0,null!==t&&void 0!==t&&null!==(n=t.onWebVitalMetricTrack)&&void 0!==n&&n.call(t,e.name,e.value,{clientStats:r,staticFileSize:a}),i={...i,...Ye(e,t)}},updateRoute:(e,t)=>{!o.action&&e?(o.action=e,!o.sdProject&&null!==t&&void 0!==t&&t.sdProject&&(o.sdProject=t.sdProject),!o.sdComponent&&null!==t&&void 0!==t&&t.sdComponent&&(o.sdComponent=t.sdComponent),l=_(o),u=d(l)):o.action!==e&&E()},publishOTelSpans:function(e){var r;if(!n)return void(null===o||void 0===o||null===(r=o.logError)||void 0===r||r.call(o,"OTel publisher is not enabled"));let i=d({metrics:e,context:l});if(!i)return;let a={metrics:e,context:l,checksum:i};try{n(a,t)}catch(c){var s;null===o||void 0===o||null===(s=o.logError)||void 0===s||s.call(o,`Could not publish OTel spans ${c}`)}}}}var Ve=[function(e,t){be((function(t){var n=function(e){var t={waitingDuration:0,cacheDuration:0,dnsDuration:0,connectionDuration:0,requestDuration:0};if(e.entries.length){var n=e.entries[0],r=n.activationStart||0,i=Math.max((n.workerStart||n.fetchStart)-r,0),a=Math.max(n.domainLookupStart-r,0),o=Math.max(n.connectStart-r,0),s=Math.max(n.connectEnd-r,0);t={waitingDuration:i,cacheDuration:a-i,dnsDuration:o-a,connectionDuration:s-o,requestDuration:e.value-s,navigationEntry:n}}return Object.assign(e,{attribution:t})}(t);e(n)}),t)},$,function(e,t){X((function(t){var n=function(e){var t={timeToFirstByte:0,firstByteToFCP:e.value,loadState:y(P())};if(e.entries.length){var n=C(),r=e.entries[e.entries.length-1];if(n){var i=n.activationStart||0,a=Math.max(0,n.responseStart-i);t={timeToFirstByte:a,firstByteToFCP:e.value-a,loadState:y(e.entries[0].startTime),navigationEntry:n,fcpEntry:r}}}return Object.assign(e,{attribution:t})}(t);e(n)}),t)},function(e,t){var n,r;n=function(t){var n=function(e){var t={timeToFirstByte:0,resourceLoadDelay:0,resourceLoadDuration:0,elementRenderDelay:e.value};if(e.entries.length){var n=C();if(n){var r=n.activationStart||0,i=e.entries[e.entries.length-1],a=i.url&&performance.getEntriesByType("resource").filter((function(e){return e.name===i.url}))[0],o=Math.max(0,n.responseStart-r),s=Math.max(o,a?(a.requestStart||a.startTime)-r:0),c=Math.max(s,a?a.responseEnd-r:0),l=Math.max(c,i.startTime-r);t={element:I(i.element),timeToFirstByte:o,resourceLoadDelay:s-o,resourceLoadDuration:c-s,elementRenderDelay:l-c,navigationEntry:n,lcpEntry:i},i.url&&(t.url=i.url),a&&(t.lcpResourceEntry=a)}}return Object.assign(e,{attribution:t})}(t);e(n)},r=(r=t)||{},W((function(){var e,t=q(),i=M("LCP"),a=function(n){r.reportAllChanges||(n=n.slice(-1)),n.forEach((function(n){n.startTime<t.firstHiddenTime&&(i.value=Math.max(n.startTime-w(),0),i.entries=[n],e())}))},o=B("largest-contentful-paint",a);if(o){e=U(n,i,he,r.reportAllChanges);var s=Y((function(){Re[i.id]||(a(o.takeRecords()),o.disconnect(),Re[i.id]=!0,e(!0))}));["keydown","click"].forEach((function(e){addEventListener(e,(function(){return se(s)}),!0)})),H(s),D((function(t){i=M("LCP"),e=U(n,i,he,r.reportAllChanges),F((function(){i.value=performance.now()-t.timeStamp,Re[i.id]=!0,e(!0)}))}))}}))},ge],Ke=(e,t,n)=>{let{onMetricReport:r,updateRoute:i,publishOTelSpans:a}=Ge(e,t,n);return Ve.forEach((e=>{t.forcePageEndMetricsReporting&&(e=>e===$||e===ge)(e)?e(r,{reportAllChanges:!0}):e(r)})),{updateRoute:i,publishOTelSpans:a}},qe=(e,t)=>(n,r)=>{if(Math.random()<=e)return t(n,r)};var We=n("330e5712"),je=n("50c0f5d9"),Xe=n("be89e044");const ze=e=>{var t;let{perfTrackingEnabled:n=!1,currentProduct:o}=e;const d=(0,s.getRequestContext)(),_=null===(t=(0,i.usePublicCxcContext)())||void 0===t?void 0:t.cxcConfig.ownableId;(0,r.useEffect)((()=>{const e=(0,l.isFeatureRunning)(l.feature`YTBUIHOdBOSEKaYCcYYeLT`),t=(0,l.isFeatureRunning)(l.feature`YTBUIHOdBOSBdaJMceUINCOYDGdWBOILT`);let r;const i=$e(o),s=(0,l.isFeatureRunning)(l.feature`YTBUIHOdBOSEKaYCcYYeFfNYbOEaJNDRTDbHe`);if(n&&e&&i){const e=function(e,t){if(e===a.c.FLIGHTS)return"flights";return t.getServiceDirectoryProject()}(o,d),n=function(e,t){if(e===a.c.FLIGHTS)return"frontend";return t.getServiceDirectoryComponent()}(o,d),i=function(e,t){return{"capla-rendering-service-example":1}[`${e}-${t}`]||.3}(e,n),l=Je(o,d),E=function(e){let{localization:t,requestType:n,experiment:r,identity:i,tracing:a}=e,o=null===i||void 0===i?void 0:i.customer;return{identity:{customer:{isGenius:null===o||void 0===o?void 0:o.isGenius,authLevel:(null===o||void 0===o?void 0:o.authLevel)??0}},localization:{locale:null===t||void 0===t?void 0:t.locale,ipCountry:null===t||void 0===t?void 0:t.ipCountry,region:(null===t||void 0===t?void 0:t.region)||void 0},requestType:{isInternalIp:null===n||void 0===n?void 0:n.isInternalIp,siteType:null===n||void 0===n?void 0:n.siteType,isRobot:null===n||void 0===n?void 0:n.isRobot,isNormal:null===n||void 0===n?void 0:n.isNormal},experiment:{serializedStateBase64:null===r||void 0===r?void 0:r.serializedStateBase64},tracing:{pageviewId:null===a||void 0===a?void 0:a.pageviewId,traceId:null===a||void 0===a?void 0:a.requestTreeId,spanId:null===a||void 0===a?void 0:a.requestId}}}(d.toGRORequestContext()),f=function(){let e={...b,...arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}},t=qe(e.requestSamplingThreshold,p),n=qe(e.requestOTelSamplingThreshold,S);return Ke(t,e,n)}({forcePageEndMetricsReporting:!0,requestSamplingThreshold:1,requestOTelSamplingThreshold:i,bypassPreflightRequest:t,withAttribution:s,env:{role:Qe(o),action:l,product:o,sdProject:e,sdComponent:n,isProd:(0,Xe.H0)(d),perfContext:E,logError:e=>(0,u.reportError)(e instanceof Error?e:new Error(e)),renderTimestamp:Date.now(),webPageOwnableId:_}});if(!window.__webShellUpdateRoute){window.__webShellUpdateRoute=e=>{f.updateRoute(e)};const e=new Event("web-shell-perf-tracker-init");document.dispatchEvent(e)}r=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return c.eventBus.subscribe(je.F.PAGE_ROUTE_CHANGED,(async(n,r)=>{r.newRoute&&(e.updateRoute(r.newRoute),Ze(e.publishOTelSpans,t))}))}(f,E.tracing),l&&Ze(f.publishOTelSpans,E.tracing)}return()=>{r&&c.eventBus.unsubscribe(r)}}),[n,o])},$e=e=>e===a.c.ATTRACTIONS?(0,l.isFeatureRunning)(l.feature`YTBUIHOdBOSEKaYCcYYeFfaNbIVFGWfdTUFAHYGWe`):e===a.c.AIRPORT_TAXIS?(0,l.isFeatureRunning)(l.feature`YTBUIHOdBOSEKaYCcYYeFfaNfXVBSEbWHQC`):e===a.c.FLIGHTS?(0,l.isFeatureRunning)(l.feature`YTBUIHOdBOSEKaYCcYYeFfaNfIMLebIYBAae`):e!==a.c.CARS||(0,l.isFeatureRunning)(l.feature`YTBUIHOdBOSEKaYCcYYeFfaNaSdNEbWHQC`),Qe=e=>{switch(e){case a.c.ATTRACTIONS:return"experiences";case a.c.AIRPORT_TAXIS:return"taxis";case a.c.FLIGHTS:return"b-flights-frontend";default:return"app"}},Je=(e,t)=>{if(e===a.c.ATTRACTIONS)return;const n=t.getActionName();if("book"===n){var r,i;let e=Number(null===t||void 0===t||null===(r=t.getBody())||void 0===r?void 0:r.stage);const a=null===t||void 0===t||null===(i=t.getBody())||void 0===i||null===(i=i.BPRenderData)||void 0===i?void 0:i.StageTwoExtras;return a&&"active"===a&&(e=25),We.o6[e]||n}if("accommodations"===e&&"confirmation"===n){var o;const e=null===(o=t.getBasePageUrl())||void 0===o?void 0:o.searchParams;return"book"===(null===e||void 0===e?void 0:e.get("source"))?"confirmation":"booking_details"}return n};function Ze(e,t){if(window.__caplaOTelSpansIsPublished||!(0,l.isFeatureRunning)(l.feature`HOReeYGMVKPPGO`))return;const{traceId:n,spanId:r}=t;if(!n||!r)return;const i=window.__caplaOTelSpans;i?e(i):document.addEventListener(o.Ol,(()=>{const t=window.__caplaOTelSpans;t&&e(t)}),{once:!0}),window.__caplaOTelSpansIsPublished=!0}},be89e044:(e,t,n)=>{n.d(t,{H0:()=>r,Vo:()=>a,WC:()=>i});const r=e=>"prod"===e.getBPlatformEnvironment(),i=e=>{const t=e.getBPlatformEnvironment();return!t||"dev"===t},a=e=>!r(e)},"017725b3":(e,t,n)=>{n.d(t,{$I_:()=>o,Ebk:()=>i,i3w:()=>a,jvi:()=>r});let r=function(e){return e.GLOBAL_EVENT="GLOBAL_EVENT",e.REGIONAL_EVENT="REGIONAL_EVENT",e}({}),i=function(e){return e.DISRUPTIVE="DISRUPTIVE",e.NORMAL="NORMAL",e}({}),a=function(e){return e.LINK="LINK",e.PRIMARY="PRIMARY",e.SECONDARY="SECONDARY",e.TERTIARY="TERTIARY",e.WHITE="WHITE",e}({}),o=function(e){return e.ANDROID="ANDROID",e.IPAD="IPAD",e.IPHONE="IPHONE",e.UNKNOWN="UNKNOWN",e}({})},b8390e2d:(e,t,n)=>{var r,i;n.d(t,{CK:()=>s,CX:()=>S,JA:()=>a,KE:()=>r,MK:()=>R,Ol:()=>g,Or:()=>A,PS:()=>i,Qc:()=>v,Qo:()=>O,qG:()=>m,sO:()=>h,vj:()=>b}),function(e){e.CAPLA_SSR="capla_ssr",e.REACT_RENDERER_PARALLEL="react_renderer_parallel",e.REACT_RENDERER_BATCH="react_renderer_batch",e.REACT_RENDERER_SINGLE="react_renderer_single",e.REACT_EARLY_HEAD_RENDERER_FIRST_PASS="react_early_head_renderer_first_pass",e.REACT_EARLY_HEAD_RENDERER_FINAL_PASS="react_early_head_renderer_final_pass",e.GET_TRANSLATIONS="get_translations",e.GET_METADATA="get_metadata",e.QUERY="apollo_",e.SET_REQUEST_CONTEXT="set_request_context",e.PROCESS_ASSETS="process_assets",e.REACT_HYDRATION="react_hydration",e.REACT_RENDER_PASS="react_render_pass",e.POPULATE_GRO="populate_gro",e.GET_COPY_EXP_TRANSLATIONS="get_copy_exp_translations",e.INIT_APOLLO_SSR="init_apollo_ssr",e.RESOLVE_COMPONENT="resolve_component",e.INIT_RENDER_PROMISES="init_render_promises",e.INIT_REMOTE_COMPONENT_CONTEXT="init_remote_component_context",e.PRE_RENDER="pre_render",e.RENDER_COMPONENT_TO_STRING="render_component_to_string",e.APOLLO_CACHE_WRITE="apollo_cache_write",e.APOLLO_CACHE_READ="apollo_cache_read",e.EXTRACT_RS_ASSETS="extract_rs_assets",e.EXTRACT_CS_ASSETS="extract_cs_assets",e.PREPARE_HELMET="prepare_helmet",e.PREPARE_CHUNK_METADATA="prepare_chunk_metadata",e.REPORT_SLO="report_slo",e.CLOSE_ET="close_et",e.DOM_LOADED="dom_loaded",e.GET_ROOT_ELEMENTS="get_root_elements",e.LOADABLE_READY="loadable_ready",e.CONFIGURE_ET="configure_et",e.HYDRATE_CHUNK_METADATA="hydrate_chunk_metadata",e.GET_REQUEST_CONTEXT="get_request_context",e.INIT_APOLLO_CSR="init_apollo_csr",e.POPULATE_CACHE="populate_cache",e.HYDRATE_COMPONENT="hydrate_component",e.DISPATCH_CAPLA_EVENT="dispatch_capla_event",e.EVENT="event",e.EVENT_WITH_DATA="event_with_data",e.ALL_SPANS="all_spans"}(r||(r={})),function(e){e.DEFAULT="enabled",e.TRACE="trace",e.DEBUG="debug",e.INFO="info",e.WARN="warn",e.ERROR="error",e.FATAL="fatal",e.PREPARE_ATTRIBUTE_ERROR="prepare.attribute.error",e.CODE_LINENO="code.lineno",e.CODE_FUNCTION="code.function",e.CODE_ATTRIBUTES_ERROR="code.attributes.error",e.REQUEST_CONTEXT="request.context",e.SSR_MODULE_FEDERATION_REMOTES="ssr.module_federation.remotes",e.SSR_TRANSLATIONS_NUMBER="ssr.translations.number",e.SSR_ET_COPY_EXPERIMENTS="ssr.et.copy_experiments",e.SSR_APOLLO_URI="ssr.apollo.uri",e.SSR_APOLLO_CACHE_STRATEGY="ssr.apollo.cache_strategy",e.SSR_RENDERING_STRATEGY="ssr.rendering_strategy",e.SSR_COMPONENTS_NUMBER="ssr.components.number",e.SSR_HAS_STREAMING_RENDERER="ssr.has_streaming_renderer",e.SSR_CHUNKS="ssr.chunks",e.SSR_APOLLO_CACHE_WRITE_DATA="ssr.apollo.cache.write.data",e.SSR_APOLLO_CACHE_WRITE_REFERENCE="ssr.apollo.cache.write.reference",e.SSR_APOLLO_CACHE_READ_OPTIONS="ssr.apollo.cache.read.options",e.SSR_APOLLO_CACHE_READ_DATA="ssr.apollo.cache.read.data",e.SSR_MODULE_FEDERATION_RS_SCRIPTS="ssr.module_federation.rs.scripts",e.SSR_MODULE_FEDERATION_RS_STYLES="ssr.module_federation.rs.styles",e.SSR_MODULE_FEDERATION_CS_SCRIPTS="ssr.module_federation.cs.scripts",e.SSR_MODULE_FEDERATION_CS_STYLES="ssr.module_federation.cs.styles",e.SSR_ET_EXPERIMENTS="ssr.et.experiments",e.SSR_ET_SEO_EXPERIMENTS="ssr.et.seo_experiments",e.SSR_FEATURES="ssr.features",e.CSR_CAPLA_ROOT_NUMBER="csr.capla_root.number",e.CSR_COMPONENTS="csr.components",e.CSR_COMPONENTS_DUPLICATES_NUMBER="csr.components.duplicates.number",e.CSR_CHUNKS="csr.chunks",e.CSR_ET_URL="csr.et.url",e.CSR_ET_HEADERS="csr.et.headers",e.CSR_ET_EXPERIMENTS="csr.et.experiments",e.CSR_ET_SEO_EXPERIMENTS="csr.et.seo_experiments",e.CSR_FEATURES="csr.features",e.CSR_TRANSLATIONS_NUMBER="csr.translations.number",e.CSR_REQUEST_CONTEXT="csr.request_context",e.CSR_FETCH_CACHE="csr.fetch.cache",e.REPORTER_PERSONA="reporter.persona"}(i||(i={}));var a,o,s=["traceReporter","clientTraceReporter","serverTraceReporter","startRecordingSpan"];!function(e){e.LOG="log.",e.CSR_LOADABLE_RESOLVE_CHUNKS="loadable.resolve.chunks",e.CSR_ERROR="csr.error"}(a||(a={}));var c,l,u,d,_,E,f,T,p,v=((o={}).all_spans=!0,o.react_hydration=!0,o.dom_loaded=!0,o.get_root_elements=!0,o.configure_et=!0,o.loadable_ready=!0,o.hydrate_chunk_metadata=!0,o.get_request_context=!0,o.init_apollo_csr=!0,o.populate_cache=!0,o.hydrate_component=!0,o.dispatch_capla_event=!0,o.apollo_=!0,o.event=!0,o.event_with_data=!0,o),m=((p={}).capla_ssr={enabled:!0,attributes:(c={},c.info=!0,c)},p.react_render_pass={enabled:!0,attributes:(l={},l.info=!0,l)},p.get_metadata={enabled:!0,attributes:(u={},u.info=!0,u)},p.get_translations={enabled:!0,attributes:(d={},d.info=!0,d)},p.apollo_={enabled:!0,attributes:(_={},_.info=!0,_)},p.set_request_context={enabled:!0,attributes:(E={},E.info=!0,E)},p.process_assets={enabled:!0,attributes:(f={},f.info=!0,f)},p.react_hydration={enabled:!0,attributes:(T={},T.info=!0,T)},p.populate_gro={enabled:!1,attributes:{enabled:!1}},p.get_copy_exp_translations={enabled:!1,attributes:{enabled:!1}},p.init_apollo_ssr={enabled:!1,attributes:{enabled:!1}},p.resolve_component={enabled:!1,attributes:{enabled:!1}},p.init_render_promises={enabled:!1,attributes:{enabled:!1}},p.init_remote_component_context={enabled:!1,attributes:{enabled:!1}},p.event={enabled:!0,attributes:{enabled:!0}},p.event_with_data={enabled:!0,attributes:{enabled:!0}},p),S="data-capla-trace-configuration",g="capla-assigned-otel-spans",h="OTel is not enabled",R="0FSPj6uTx7vf5CsCxXl1hiEuOVmg69y4UrGyyVSu3GiHbYMium9B",A="http://localhost:4318/v1/traces",O="https://otel-gw.booking.com/v1/traces",b=5}}]);
//# sourceMappingURL=https://istatic.booking.com/internal-static/capla/static/js/cfaf9a2b.354fd297.chunk.js.map